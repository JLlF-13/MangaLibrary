{% extends 'index.html' %}
{% block content %}
    {% if mangas %}
        <div class="container mt-5">
            <h1 class="title has-text-centered">Your Manga Library</h1>
        </div>
        <div class="container mt-5">
            <div class="columns is-multiline">
                {% for manga in mangas %}
                <div class="column is-one-fifth">
                    <div class="card" style="font-size: 0.875rem;">
                        <div class="card-image">
                            <figure class="image is-square">
                                <img src="{{ manga.photo.url }}" alt="{{ manga.name }}" style="object-fit: cover; width: 100%; height: 100%;">
                            </figure>
                        </div>
                        <div class="card-content p-3 has-text-centered">
                            <p class="title is-6 has-text-weight-bold">{{ manga.name }}</p>
                            <p class="subtitle is-7 mt-2">
                                <span title="{{ manga.language_id.name }}">{{ manga.language_id.name_short }}</span> | {{ manga.type_id.name }}
                            </p>
                        </div>
                        <footer class="card-footer">
                            <a href="/view/{{manga.id}}" class="card-footer-item has-text-info">
                                <i class="fa-regular fa-eye"></i>
                            </a>
                            <a href="/update/{{manga.id}}" class="card-footer-item has-text-warning">
                                <i class="fa-regular fa-pen-to-square"></i>
                            </a>
                            <a href="/delete/{{manga.id}}" class="card-footer-item has-text-danger" onclick="return confirmDelete()">
                                <i class="fa-regular fa-x"></i>
                            </a>
                        </footer>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="container mt-5">
            <h1 class="title has-text-centered">Your Stats</h1>
        </div>
        <div class="container mt-5">
            <div class="box">
                <table class="table is-bordered is-striped is-hoverable is-fullwidth">
                    <thead>
                        <tr class="has-text-centered">
                            <th>Total Spent</th>
                            <th>Total Manga Owned</th>
                            <th>Total Collections</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="has-text-centered">
                            <td>{{ total_spent }}â‚¬</td>
                            <td>{{ total_owned }}</td>
                            <td>{{ total_collections }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- <div class="container mt-5 mb-5">
            <div class="columns is-vcentered">
                <div class="column has-text-centered">
                    <a href="/create"><button class="button is-info is-dark" title="ADD MANGA"><i class="fa-solid fa-upload" style="margin-right: 5px;"></i><i class="fa-solid fa-book"></i></button></a>
                </div>
                <div class="column has-text-centered">
                    <button class="button is-info is-dark" title="VIEW FRIEND COLLECTION"><i class="fa-regular fa-eye" style="margin-right: 5px;"></i><i class="fas fa-file-alt"></i></button>
                </div>
                <div class="column has-text-centered">
                    <button class="button is-info is-dark" title="DOWNLOAD AS PDF"><i class="fa-solid fa-download" style="margin-right: 5px;"></i><i class="fa-regular fa-file-pdf"></i></button>
                </div>
                <div class="column has-text-centered">
                    <button class="button is-info is-dark" title="DOWNLOAD AS JSON"><i class="fa-solid fa-download" style="margin-right: 5px;"></i><i class="fas fa-file-alt"></i></button>
                </div>
            </div>
        </div> -->
    {% else %}
        <div class="container mt-5 is-flex is-justify-content-center is-align-items-center" style="height: 90vh; overflow: hidden;">
            <div class="has-text-centered">
                <h1 class="title">Go add some mangas to your collection</h1>
                <br>
                <a href="/create"><button class="button is-info is-dark mt-4" title="ADD MANGA"><i class="fa-solid fa-upload" style="margin-right: 5px;"></i><i class="fa-solid fa-book"></i></button></a>
            </div>
        </div>
    {% endif %}
{% endblock %}
